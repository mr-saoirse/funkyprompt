---
description: Doing something useful in your first 10 minutes with funkyprompt
---

# 1. Ingesting data into a new instance

{% hint style="info" %}
The guides below are for fprompt install to your system. You can also run with poetry in which case prefix all commands with `poetry run` \<COMMAND>
{% endhint %}

You have [installed](../why-funkyprompt/install.md) the library and set your environment variables to make sure you have a storage configuration. While you can query existing data i.e. ask LLM questions about things that can be answered by existing functions and data, its more interesting to choose your own data. Choose your adventure

1. Ingest unstructured data from a webpage such as this one
2. Ingest structured data from any page with JSON+LD embedded

{% hint style="info" %}
The commands are the same except we assume that the data are unstructured if there is no JSON+LD on the page.
{% endhint %}

### 1 Unstructured data

Unstructured data can be ingested into a named store by just pointing to a web page. You can then investigate indexes over your. See the notebooks to explore viz etc

&#x20; Suppose you want to ingest a web page about FairyTales into a vector store

```python
from funkyprompt.ops.entities import AbstractVectorStoreEntry
#source your data
url = "https://www.gutenberg.org/files/20748/20748-h/20748-h.htm"
#create a type for it - it does not need any attributes unless you want to add some
class FairyTales(AbstractVectorStoreEntry):
    pass
```

There is a simple iterator that iterates over headers and paragraphs to iterate over these types

```python
from funkyprompt.io.tools.downloader import iterate_types_from_headed_paragraphs
data = list(iterate_types_from_headed_paragraphs(url, FairyTales))
```

Once you have typed data you can ingest it into a store (called Fairy Tales) in this case

```python
from funkyprompt.io.stores import VectorDataStore 
#this will take a moment to generate the embeddings - by default OpenAI embeddings
vs.add(data)
# ask some questions
# vs("who is sinbad?")
```

{% hint style="info" %}
To you other embeddings like Instruct check out the tutorial [5.-working-with-embeddings.md](5.-working-with-embeddings.md "mention")
{% endhint %}

Now that we have data we can use this with our agent.

The store can can allow is to ask questions and retrieve records. To make it explicty lets create a new function that loads this store and pass that to the agent. In practice we will want a more convenient discovery method but lets not get ahead of ourselves

```python
def get_information_on_fairy_tale_characters(question:str):
    """
    Provides details about fairy take characters 
    
    **Args**
        question: ask a question in sufficient detail
        
    **Returns**
        text details related to your question
    """
    vs = VectorDataStore(FairyTales)
    
    return vs(question)
```

Now that we have a function we can describe it and pass it to our agent

```python
from funkyprompt import describe_function, agent

agent("Who is sinbad and where did he eventually settle down?", 
      describe_function(get_information_on_fairy_tale_characters))
```

{% code overflow="wrap" %}
```
Sinbad is a character from Middle Eastern folk tales, known as Sinbad the Sailor. He went on seven adventurous and fantastical voyages, these tales filled with magical creatures, supernatural phenomena, and treacherous, often near-death experiences. After all his adventures and wanderings, Sinbad settled down in happiness and prosperity in Bagdad.
```
{% endcode %}

### 2 Structured data

{% hint style="info" %}
This section requires that you have configure a module repo where functions and entities can be saved. If you clone funkyprompt then this will be in the examples module but if you are running funkyprompt as a library you must point this somewhere that you are happy to generate code into
{% endhint %}

The best way to do this is to first initialize a type and then think about what you want your type to look like

```bash
fprompt ingest init -u "https://" -n Recipe
```

This will use the LLM to generate a Pydantic schema and save it in the default namespace using the type name that you specify

Now you can optionally edit the Pydantic class which is save to your configure repo store and then you can infest into this type. This works as a crawler to pull down similar objects from the site

```bash
fprompt ingest entity -n Recipe --limit 10 
```

***

Whichever route you took, you now have a store of data and you can ask questions of it. By default the agent will load all CRUD functions in your repo which only makes sense when there are not many i.e. the first time.  To learn more about creating different plans you can had over to [Broken link](broken-reference "mention") but in the meantime you can query your data either ask about one of the recipes or about the unstructured data you loaded

```
fprompt query -q "Can you tell me how to make X"
```

In this section we used `fprompt` from terminal but you can import `funkyprompt` into a library to interact with it or use the notebooks. We will see many examples of that later.



***

Lets take a look at how to do something like this in code

We can get some Json+LD data for certain sites. For example, you might want to get a recipe for making Kimchi...

```python
from funkyprompt.io.tools import downloader
kimchi_recipe = 'https://www.maangchi.com/recipe/tongbaechu-kimchi'
data = downloader.get_page_json_ld_data(kimchi_recipe)
```

Now we can create a Pydantic object for this but if we are doing this often we might want to ask the LLM to do it.

```
```

### Things to thing about next

The focus here from the beginning is on [RAG](../why-funkyprompt/rag-systems.md) systems so we emphasize data and having your own data stores from the beginning. `funkyprompt` will make it easier to index and organize lots of data so you can experiment more easily.&#x20;



```python
def my_function(str: 
```
